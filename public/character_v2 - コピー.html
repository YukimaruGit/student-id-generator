<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>九条あまね - 放課後クロニクル | 学生証データベース</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Zen+Maru+Gothic:wght@400;500;700&family=Kalam:wght@300;400;700&family=Caveat:wght@400;500;600;700&family=Comic+Neue:wght@300;400;700&family=Klee+One:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* 
          レスポンシブデザイン対応 2024年版
          - Flexboxをベースとしたレイアウトに変更
          - 主要ブレイクポイント (1920, 1280, 1024, 768, 480px) に対応
          - 要素の接地、追従、画面フィットの要件を実装
        */
        :root {
            --amane-color: #ADD8E6;
            --amane-light: #E6F3FF;
            --amane-dark: #4A90E2;
            --amane-accent: #87CEEB;
            --nobara-color: #228B22;
            --nobara-light: #E8F5E8;
            --nobara-dark: #1B5E20;
            --nobara-accent: #4CAF50;
            --nobara-soft: #A5D6A7;
            --videos-color: #9E9E9E;
            --videos-light: #F5F5F5;
            --videos-dark: #424242;
            --videos-accent: #757575;
            --videos-orange: #FFCC80;
            --videos-orange-dark: #FF8A65;
            --videos-orange-light: #FFF3E0;
            --notebook-bg: #2A2A2A;
            --grid-color: #505050;
            --margin-line: #EF4444;
            --text-dark: #FFFFFF;
        }

        * {
            font-family: 'Klee One', 'Caveat', 'Comic Neue', 'Noto Sans JP', cursive !important;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: 
                linear-gradient(90deg, transparent 79px, #999999 79px, #999999 81px, transparent 81px),
                repeating-linear-gradient(90deg, transparent 0px, transparent 19px, #AAAAAA 19px, #AAAAAA 20px),
                repeating-linear-gradient(0deg, transparent 0px, transparent 19px, #AAAAAA 19px, #AAAAAA 20px),
                #888888;
            background-size: 100% 100%, 20px 20px, 20px 20px, 100% 100%;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* ノート穴デザイン */
        body::before {
            content: '';
            position: fixed;
            left: 30px;
            top: 0;
            width: 20px;
            height: 100vh;
            background: 
                radial-gradient(circle at 10px 60px, #BBBBBB 6px, transparent 6px),
                radial-gradient(circle at 10px 160px, #BBBBBB 6px, transparent 6px),
                radial-gradient(circle at 10px 260px, #BBBBBB 6px, transparent 6px),
                radial-gradient(circle at 10px 360px, #BBBBBB 6px, transparent 6px),
                radial-gradient(circle at 10px 460px, #BBBBBB 6px, transparent 6px),
                radial-gradient(circle at 10px 560px, #BBBBBB 6px, transparent 6px);
            background-repeat: repeat-y;
            background-size: 20px 100px;
            z-index: -1;
        }

        /* --- 新規レイアウト構造 --- */
        .page-container {
            display: flex;
            width: 100%;
            min-height: 100vh;
        }

        .character-container {
            flex: 0 0 45vw; /* 左側の領域を確保 */
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main-content-wrapper {
            flex: 1; /* 残りの領域をすべて使用 */
            display: flex;
            z-index: 5;
        }

        .sticky-tabs-container {
            flex: 0 0 120px; /* タブの幅を固定 */
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding-top: 150px; /* 上からの位置調整 */
            z-index: 10;
        }

        .main-layout {
            flex: 1;
            padding: 40px 0 40px 0; /* 右端の余白は不要に */
        }

        /* --- 主要コンポーネントのスタイル調整 --- */

        /* キャラクター画像 */
        .character-image-outside {
            position: relative; /* fixedから変更 */
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        .amane-key-visual, .nobara-key-visual {
            max-height: 95vh;
            width: auto;
            object-fit: contain;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
            transition: all 0.4s ease;
            animation: float 3s ease-in-out infinite;
        }

        .nobara-key-visual {
            animation-reverse: reverse;
            display: none; /* 初期非表示 */
        }

        /* モード別表示制御 */
        .amane-mode .nobara-key-visual { display: none; }
        .amane-mode .amane-key-visual { display: block; }
        .nobara-mode .amane-key-visual { display: none; }
        .nobara-mode .nobara-key-visual { display: block; }
        .videos-mode .amane-key-visual,
        .videos-mode .nobara-key-visual {
            display: block;
            max-height: 85vh; /* 2人表示のため少し小さく */
        }

        /* キャッチコピー */
        .character-keyword {
            position: absolute; /* character-container基準 */
            top: 12%;
            left: 60%; /* キャラクターの右肩あたりに調整 */
            writing-mode: vertical-rl;
            text-orientation: upright;
            font-size: 1.2rem;
            font-weight: 700;
            color: #4A4A4A;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px 15px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            border: 2px solid #4A4A4A;
            z-index: 1;
            font-family: 'Klee One', cursive;
            text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
        }

        .amane-keyword, .nobara-keyword { display: none; }
        .amane-mode .amane-keyword { display: block; }
        .nobara-mode .nobara-keyword { display: block; }

        /* 動画モード時のキャッチコピー */
        .videos-mode .character-keyword {
            left: 50%;
            transform: translateX(-50%);
            top: 10%;
            background: transparent;
            border: none;
            box-shadow: none;
            backdrop-filter: none;
            writing-mode: horizontal-tb; /* 2人の間に横書きで表示 */
            padding: 10px 20px;
            font-size: 1.5rem;
        }

        /* コンテンツセクション */
        .content-section {
            width: 100%;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* コンテンツカード (ノート) */
        .content-card {
            background: white !important;
            padding: 10px 45px 35px 45px !important;
            border-radius: 12px 0 0 12px !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
            border: 2px solid var(--amane-color) !important;
            border-right: none !important;
            margin-bottom: 35px !important;
            position: relative !important;
            transition: all 0.4s ease !important;
            opacity: 0;
            transform: translateY(30px);
            margin-left: 0 !important; /* 接地のためリセット */
            /* 背景の罫線など */
            background-image: 
                linear-gradient(270deg, transparent 50px, var(--amane-color) 50px, var(--amane-color) 52px, transparent 52px),
                repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(173, 216, 230, 0.3) 23px, rgba(173, 216, 230, 0.3) 24px) !important;
            background-size: 100% 100%, 100% 24px !important;
            min-height: 90vh; /* 高さを確保 */
            display: none; /* JSで制御 */
        }

        .content-card.active {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }


        /* スティッキータブ */
        .sticky-tab {
            padding: 10px 16px;
            border: none;
            border-radius: 12px 0 0 12px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: -2px 2px 8px rgba(0, 0, 0, 0.2);
            font-family: 'Klee One', cursive;
            min-width: 90px;
            text-align: center;
            border: 2px solid var(--amane-color);
            border-right: none;
            position: relative;
            overflow: hidden;
            transform: translateX(0); /* 初期位置 */
        }

        .sticky-tab.active {
            transform: translateX(-8px) scale(1.05) !important;
            box-shadow: 
                -6px 6px 20px rgba(0, 0, 0, 0.4),
                0 0 15px rgba(255, 255, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
            border: 3px solid rgba(255, 255, 255, 0.4) !important;
            border-right: none !important;
            z-index: 10;
            font-weight: 700 !important;
            animation: activeGlow 2s ease-in-out infinite;
        }

        .sticky-tab:hover:not(.active) {
            transform: translateX(-3px);
            box-shadow: -3px 3px 10px rgba(0, 0, 0, 0.3);
        }

        /* --- ここから下のスタイルは微調整、元のスタイルを継承 --- */
        /* (元の.content-card, .section-title, .student-id-*, .character-infoなどのスタイルは、微調整のみでほぼ流用可能) */
            /* セクションタイトル */
            .section-title {
                font-family: 'Caveat', 'Klee One', cursive;
                font-size: 2.2rem;
                color: var(--amane-dark);
                margin-bottom: 15px;
                font-weight: 700;
                transform: rotate(-1deg);
                position: relative;
                text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
            }

            .section-title::after {
                content: '';
                position: absolute;
                bottom: -12px;
                left: -5px;
                right: 15px;
                height: 6px;
                background: linear-gradient(90deg, var(--amane-color), var(--amane-accent), var(--amane-color));
                border-radius: 3px;
                    opacity: 0.8;
            }

            /* 学生証画像 */
            .student-id-image-container {
                text-align: center;
                margin: 50px 0 5px 0;
                position: relative;
                z-index: 3;
            }

            .student-id-views {
                position: relative;
                display: inline-block;
                width: 100%;
                max-width: 400px;
                height: 250px;
            }

            .student-id-view {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
                transition: opacity 0.3s ease;
                cursor: pointer;
                border-radius: 15px;
                overflow: hidden;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            }

            .student-id-view.active {
                opacity: 1;
            }

            .student-id-view img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            /* キャラクター情報 */
            .character-info {
                background: transparent;
                padding: 20px 0;
                border-radius: 0;
                margin: 20px 0 20px -30px;
                border: none;
                position: relative;
                z-index: 2;
                box-shadow: none;
                transform: scale(0.9);
            }
            
            .character-info h3 {
                font-family: 'Caveat', 'Klee One', cursive;
                font-size: 1.8rem;
                color: var(--amane-dark);
                margin-bottom: 20px;
                font-weight: 700;
                transform: rotate(-0.8deg);
                text-shadow: 1px 1px 3px rgba(173, 216, 230, 0.3);
            }
            .info-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 10px;
            }

            .info-item {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 8px 12px;
                background: linear-gradient(135deg, #fff9c4 0%, #fff3a0 100%);
                border-radius: 0;
                transition: all 0.3s ease;
                border: none;
                box-shadow: 
                    0 2px 6px rgba(0, 0, 0, 0.12),
                    inset 0 1px 0 rgba(255, 255, 255, 0.8);
                min-height: 32px;
                transform: rotate(-1deg);
                position: relative;
                margin: 6px 3px;
            }
            .info-item::before {
                content: '';
                position: absolute;
                top: -2px;
                left: 50%;
                transform: translateX(-50%);
                width: 16px;
                height: 6px;
                background: rgba(255, 255, 255, 0.6);
                border-radius: 0 0 6px 6px;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }
            .info-item:nth-child(odd) {
                background: linear-gradient(135deg, #ffe4e1 0%, #ffd1cc 100%);
                transform: rotate(0.8deg);
            }
            .info-item:nth-child(3n) {
                background: linear-gradient(135deg, #e1f5fe 0%, #b3e5fc 100%);
                transform: rotate(-0.5deg);
            }
            .info-item:nth-child(4n) {
                background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
                transform: rotate(1.2deg);
            }
            .info-item:nth-child(5n) {
                background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
                transform: rotate(-0.8deg);
            }
            .info-item:hover {
                transform: translateY(-3px) scale(1.05) rotate(0deg);
                box-shadow: 
                    0 6px 20px rgba(0, 0, 0, 0.2),
                    inset 0 1px 0 rgba(255, 255, 255, 0.9);
                z-index: 10;
            }
            .info-label {
                font-size: 0.8rem;
                color: #2d3748;
                font-weight: 600;
                font-family: 'Klee One', cursive;
                text-shadow: 0.5px 0.5px 1px rgba(255, 255, 255, 0.9);
                transform: rotate(-0.3deg);
                position: relative;
            }
            .info-label::after {
                content: ':';
                margin-left: 2px;
                color: #4a5568;
            }
            .info-value {
                font-size: 0.9rem;
                color: #2d3748;
                font-weight: 700;
                font-family: 'Caveat', cursive;
                transform: rotate(0.4deg);
                text-shadow: 0.5px 0.5px 1px rgba(0, 0, 0, 0.1);
                position: relative;
            }
            .school-note {
                background: white;
                margin: 15px 0;
                padding: 15px 25px 15px 95px;
                border-radius: 0 8px 8px 0;
                border-right: 2px solid var(--amane-color);
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                border: 1px solid rgba(173, 216, 230, 0.4);
                transition: all 0.3s ease;
                transform: rotate(-0.4deg) scale(0.85);
                position: relative;
                min-height: 80px;
                max-height: 120px;
                background-image: 
                    linear-gradient(90deg, transparent 78px, var(--amane-color) 78px, var(--amane-color) 80px, transparent 80px),
                    repeating-linear-gradient(
                        0deg,
                        transparent 0px,
                        transparent 23px,
                        rgba(173, 216, 230, 0.3) 23px,
                        rgba(173, 216, 230, 0.3) 24px
                    );
                background-size: 100% 100%, 100% 24px;
            }
            .school-note:nth-child(even) { transform: rotate(0.4deg) scale(0.85); }
            .school-note:hover {
                transform: translateY(-2px) scale(0.87);
                box-shadow: 0 4px 15px rgba(173, 216, 230, 0.2);
            }
            .school-note strong {
                color: var(--amane-dark);
                font-family: 'Caveat', 'Klee One', cursive;
                font-size: 1.0rem !important;
                font-weight: 700;
                transform: rotate(-0.6deg);
                display: inline;
                position: relative;
                text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);
                line-height: 1.8 !important;
            }
            .school-note strong::after {
                content: '';
                position: absolute;
                bottom: -1px;
                left: 0;
                right: 0;
                height: 2px;
                background: linear-gradient(90deg, var(--amane-color), var(--amane-accent), var(--amane-color));
                border-radius: 1px;
                opacity: 0.8;
            }
            .intro-text {
                font-size: 1.0rem;
                line-height: 1.8;
                color: #1A202C;
                font-weight: 500;
                text-shadow: 0.5px 0.5px 2px rgba(255, 255, 255, 0.8);
            }
            
            .sticky-tab.youtube { background: #FF0000; color: white; margin-top: 16px; }
            .sticky-tab.twitter { background: #000000; color: white; }

            /* --- モード別カラースキーム (元のスタイルを継承) --- */
            #videos.content-card {
                border-color: var(--videos-color) !important;
                background-image: 
                    linear-gradient(270deg, transparent 50px, var(--videos-color) 50px, var(--videos-color) 52px, transparent 52px),
                    repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(158, 158, 158, 0.3) 23px, rgba(158, 158, 158, 0.3) 24px) !important;
            }
            #videos .section-title { color: var(--videos-orange-dark); }
            #videos .section-title::after { background: linear-gradient(90deg, var(--videos-orange), var(--videos-orange-dark), var(--videos-orange)); }
            
            #nobara-profile.content-card {
                border-color: var(--nobara-color) !important;
                background-image: 
                    linear-gradient(270deg, transparent 50px, var(--nobara-color) 50px, var(--nobara-color) 52px, transparent 52px),
                    repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(34, 139, 34, 0.3) 23px, rgba(34, 139, 34, 0.3) 24px) !important;
            }
            #nobara-profile .section-title { color: var(--nobara-dark); }
            #nobara-profile .section-title::after { background: linear-gradient(90deg, var(--nobara-color), var(--nobara-accent), var(--nobara-color)); }
            #nobara-profile .character-info h3 { color: var(--nobara-dark); text-shadow: 1px 1px 3px rgba(34, 139, 34, 0.3); }
            #nobara-profile .school-note {
                border-right-color: var(--nobara-color);
                border-color: rgba(34, 139, 34, 0.4);
                background-image: 
                    linear-gradient(90deg, transparent 78px, var(--nobara-color) 78px, var(--nobara-color) 80px, transparent 80px),
                    repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(34, 139, 34, 0.3) 23px, rgba(34, 139, 34, 0.3) 24px) !important;
            }
            #nobara-profile .school-note:hover { box-shadow: 0 4px 15px rgba(76, 175, 80, 0.2); }
            #nobara-profile .school-note strong { color: var(--nobara-dark); }
            #nobara-profile .school-note strong::after { background: linear-gradient(90deg, var(--nobara-color), var(--nobara-accent), var(--nobara-color)); }
            #nobara-profile .student-id-image-container div[style*="--amane-dark"] { color: var(--nobara-dark) !important; }

            /* 動画コンテンツ */
            .video-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0; }
            .main-pv { grid-column: 1 / -1; }
            .video-card { /* ...元のスタイルを継承... */ }

        /* --- ここからレスポンシブデザイン --- */

        /* ■ 1280px以下 (小型PC) */
        @media (max-width: 1280px) {
            .character-container {
                flex-basis: 40vw; /* 少し狭く */
            }
            .character-keyword {
                left: 55%;
                font-size: 1rem;
            }
            .sticky-tabs-container {
                flex-basis: 100px;
                padding-top: 120px;
            }
            .sticky-tab { font-size: 0.75rem; }
        }

        /* ■ 1024px以下 (タブレット横) */
        @media (max-width: 1024px) {
            .page-container {
                flex-direction: row; /* 横並び維持 */
            }
            .character-container {
                flex-basis: 35vw; /* さらに狭く */
                min-width: 300px; /* 最小幅確保 */
            }
            .amane-key-visual, .nobara-key-visual {
                max-height: 80vh;
            }
            .character-keyword {
                top: 10%;
                left: auto;
                right: -20px; /* 右側にはみ出すように調整 */
                font-size: 0.9rem;
                padding: 15px 10px;
            }
            .videos-mode .character-keyword {
                right: auto;
                left: 50%;
                font-size: 1.2rem;
            }
            .sticky-tabs-container {
                flex-basis: 90px;
            }
            .sticky-tab {
                min-width: 80px;
                padding: 8px 12px;
            }
            .main-layout {
                padding: 20px 0;
            }
            .content-card {
                padding: 10px 25px 25px 25px !important;
            }
        }


        /* ■ 768px以下 (タブレット縦・スマホ) */
        @media (max-width: 768px) {
            body {
                background: #888888; /* 背景をシンプルに */
            }
            body::before {
                display: none; /* ノート穴を非表示 */
            }

            .page-container {
                flex-direction: column; /* 縦積みに変更 */
            }

            /* 上部にキャラクターセクションを配置 */
            .character-container {
                flex-basis: auto;
                width: 100%;
                height: 40vh; /* 高さを確保 */
                min-width: 0;
                padding: 10px;
            }
            .character-image-outside {
                height: 100%;
                flex-direction: row;
                align-items: flex-end; /* 下揃え */
            }
            .amane-key-visual, .nobara-key-visual {
                max-height: 90%;
            }
            /* 動画モードでは2人並べる */
            .videos-mode .amane-key-visual, 
            .videos-mode .nobara-key-visual {
                max-height: 80%;
            }
            
            .character-keyword {
                position: relative; /* 静的配置に変更 */
                writing-mode: horizontal-tb; /* 横書きに */
                text-align: center;
                margin-top: -30px; /* キャラクターに少し重ねる */
                padding: 8px 15px;
                font-size: 1rem;
                order: -1; /* 画像より上に表示 */
                left: auto;
                top: auto;
                right: auto;
                transform: none;
                background: rgba(0,0,0,0.3);
                color: white;
                border: none;
                backdrop-filter: none;
            }
            .videos-mode .character-keyword {
                margin-top: 0;
            }

            /* メインコンテンツはキャラの下に */
            .main-content-wrapper {
                width: 100%;
                padding-top: 20px;
            }
            .sticky-tabs-container {
                flex-basis: 90px;
                padding-top: 20px; /* 上のスペースを調整 */
            }
            .main-layout {
                min-height: auto;
            }
            .content-card {
                border-radius: 8px 0 0 8px !important;
            }
            .info-grid {
                grid-template-columns: 1fr;
            }
            .video-grid {
                grid-template-columns: 1fr;
            }
        }


        /* ■ 480px以下 (スマホ最小幅) */
        @media (max-width: 480px) {
            .character-container {
                height: 35vh;
            }
            .character-keyword {
                font-size: 0.9rem;
                padding: 6px 12px;
                margin-top: -20px;
            }
            .main-content-wrapper {
                flex-direction: column; /* タブも縦積みに */
            }
            .sticky-tabs-container {
                order: 1; /* コンテンツの下に配置 */
                flex-direction: row; /* 横並びに変更 */
                flex-wrap: wrap;
                justify-content: center;
                width: 100%;
                padding: 15px 10px;
                flex-basis: auto;
            }
            .sticky-tab {
                flex-grow: 1;
                min-width: 80px;
                border-radius: 8px; /* 角丸に */
                border: 2px solid var(--amane-color) !important;
            }
            .sticky-tab.active {
                transform: translateY(3px) scale(1.05) !important;
            }

            .main-layout {
                padding: 10px;
            }
            .content-card {
                padding: 15px !important;
                border-radius: 8px !important;
                border-right: 2px solid var(--amane-color) !important;
                background-image: repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(173, 216, 230, 0.3) 23px, rgba(173, 216, 230, 0.3) 24px) !important;
            }
            #nobara-profile.content-card {
                border-right: 2px solid var(--nobara-color) !important;
            }
            #videos.content-card {
                border-right: 2px solid var(--videos-color) !important;
            }
            
            .character-info, .video-grid {
                margin-left: 0;
                transform: scale(1);
            }
            .student-profile-section, .video-additional-content {
                margin-left: 0;
            }
            .school-note {
                padding: 15px;
                background-image: repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(173, 216, 230, 0.3) 23px, rgba(173, 216, 230, 0.3) 24px) !important;
            }

        }
        /* --- 既存アニメーション、スクロールバー等のスタイル (流用) --- */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        @keyframes pulse {
            0% { transform: translateX(-5px) scale(1); }
            50% { transform: translateX(-5px) scale(1.05); }
            100% { transform: translateX(-5px) scale(1); }
        }
        @keyframes activeGlow {
            0%, 100% {
                box-shadow: 
                    -6px 6px 20px rgba(0, 0, 0, 0.4),
                    0 0 15px rgba(255, 255, 255, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.2);
            }
            50% {
                box-shadow: 
                    -6px 6px 20px rgba(0, 0, 0, 0.4),
                    0 0 25px rgba(255, 255, 255, 0.5),
                    inset 0 1px 0 rgba(255, 255, 255, 0.3);
            }
        }
        .scroll-indicator {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 60vh;
            background: linear-gradient(180deg, 
                rgba(255, 183, 77, 0.2) 0%,
                rgba(255, 138, 101, 0.2) 25%,
                rgba(255, 112, 67, 0.2) 50%,
                rgba(156, 39, 176, 0.2) 75%,
                rgba(63, 81, 181, 0.2) 100%
            );
            border-radius: 4px;
            z-index: 500;
            border: 1px solid rgba(255, 183, 77, 0.3);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        .scroll-progress {
            width: 100%;
            height: 0%;
            background: linear-gradient(180deg, 
                #FFB74D 0%,
                #FF8A65 25%,
                #FF7043 50%,
                #9C27B0 75%,
                #3F51B5 100%
            );
            border-radius: 4px;
            transition: height 0.1s ease-out;
            position: absolute;
            top: 0;
            left: 0;
            box-shadow: 0 0 10px rgba(255, 183, 77, 0.4);
        }
        .scroll-indicator::before {
            content: '';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-bottom: 12px solid #FFB74D;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        .scroll-indicator::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 12px solid #3F51B5;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        .scroll-indicator:hover {
            width: 12px;
            box-shadow: 0 4px 16px rgba(255, 183, 77, 0.3);
        }

        /* 削除されたクラスのフォールバック */
        .sticky-tabs, .social-nav, .character-selector, .content-nav {
            display: none;
        }
    </style>
</head>
<body>

<div class="page-container">
    <aside class="character-container">
        <!-- 背景キービジュアル -->
        <div class="character-image-outside">
            <img src="assets/img/Amane_key.png" alt="九条あまね" class="character-image amane-key-visual">
            <img src="assets/img/Nobara.png" alt="高森のばら" class="character-image nobara-key-visual">
        </div>
        
        <!-- キーワード縦書きテキスト -->
        <div class="character-keyword">
            <span class="amane-keyword">ごく普通の女子高生</span>
            <span class="nobara-keyword">不思議な転校生</span>
        </div>
    </aside>

    <main class="main-content-wrapper">
        <!-- スティッキータブ -->
        <nav class="sticky-tabs-container">
            <button class="sticky-tab" onclick="switchToCharacter('amane', this)" style="background: var(--amane-color); color: var(--amane-dark);">九条あまね</button>
            <button class="sticky-tab" onclick="switchToCharacter('nobara', this)" style="background: var(--nobara-soft); color: var(--nobara-dark);">高森のばら</button>
            <button class="sticky-tab" onclick="switchToCharacter('videos', this)" style="background: var(--videos-orange); color: var(--videos-orange-dark);">動画</button>
            <button class="sticky-tab youtube" onclick="openYouTube()" title="YouTube">YouTube</button>
            <button class="sticky-tab twitter" onclick="openTwitter()" title="X (Twitter)">X</button>
        </nav>

        <div class="main-layout">
            <!-- コンテンツエリア -->
            <section class="content-section">
                <div class="content-container" style="position: relative;">
                    <!-- ここに #profile, #nobara-profile, #videos が入ります -->

                    <!-- プロフィールコンテンツ -->
                    <div id="profile" class="content-card">
                        <h2 class="section-title">自己紹介ノート</h2>
                        
                        <!-- 学生証画像（3段階表示） -->
                        <div class="student-id-image-container">
                            <div class="student-id-views" onclick="cycleStudentId()">
                                <div class="student-id-view active" id="view1">
                                    <img src="assets/img/amane.png" alt="九条あまね 学生証">
                                </div>
                                <div class="student-id-view" id="view2">
                                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-family: 'Klee One', cursive; text-align: center;">
                                        <div>
                                            <h3 style="margin: 10px 0; font-size: 1.2rem;">クラブ活動記録</h3>
                                            <p style="margin: 5px 0; font-size: 0.9rem;">水泳部 - 副部長</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">図書委員会 - 委員</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">学業成績: 優秀</p>
                                            <p style="margin: 8px 0; font-size: 0.7rem; opacity: 0.8;">表彰歴: 県大会水泳優勝</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="student-id-view" id="view3">
                                    <div style="background: linear-gradient(135deg, #2c1810 0%, #8B0000 100%); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #ff9999; font-family: 'Klee One', cursive; text-align: center;">
                                        <div>
                                            <h3 style="margin: 10px 0; font-size: 1.2rem; color: #ff6b6b;">隠された一面</h3>
                                            <p style="margin: 5px 0; font-size: 0.9rem;">"水の流れのように..."</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">静かに見えても</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">内なる力は深い</p>
                                            <p style="margin: 8px 0; font-size: 0.7rem; color: #ff6b6b; opacity: 0.9;">"澄んだ瞳に映る秘密..."</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="margin-top: 15px; font-size: 0.9rem; color: var(--amane-dark); text-align: center; font-weight: 600; text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);">
                                <span>クリックで情報を切り替え</span> - <span id="clickCount">1</span>/3
                            </div>
                        </div>

                        <!-- キャラクター情報 -->
                        <div class="character-info">
                            <h3>キャラクター詳細</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label">年齢</span>
                                    <span class="info-value">16歳</span>
                            </div>
                                <div class="info-item">
                                    <span class="info-label">血液型</span>
                                    <span class="info-value">A型</span>
                            </div>
                                <div class="info-item">
                                    <span class="info-label">身長</span>
                                    <span class="info-value">162cm</span>
                        </div>
                                <div class="info-item">
                                    <span class="info-label">部活動</span>
                                    <span class="info-value">水泳部</span>
                        </div>
                                <div class="info-item">
                                    <span class="info-label">委員会</span>
                                    <span class="info-value">図書委員</span>
                        </div>
                                <div class="info-item">
                                    <span class="info-label">趣味</span>
                                    <span class="info-value">水泳・読書</span>
                        </div>
                                <div class="info-item">
                                    <span class="info-label">得意科目</span>
                                    <span class="info-value">数学・体育</span>
                        </div>
                                <div class="info-item">
                                    <span class="info-label">好きな花</span>
                                    <span class="info-value">睡蓮・紫陽花</span>
                        </div>
                                <div class="info-item">
                                    <span class="info-label">将来の夢</span>
                                    <span class="info-value">海洋生物学者</span>
                                </div>
                    </div>
                            </div>
                            
                        <div class="student-profile-section" style="margin-left: -30px;">
                            <div class="school-note">
                                <p class="intro-text">初めまして。夢見が丘女子高等学校1年A組の<strong>九条あまね</strong>です。皆さんからは「あまねちゃん」と呼ばれています。</p>
                        </div>

                            <div class="school-note">
                                <p class="intro-text"><strong>学校生活</strong></p>
                                <p class="intro-text">水泳部で副部長をしており、毎日の練習に励んでいます。図書委員としても活動しており、図書館の整理や読書環境の維持に努めています。</p>
                            </div>
                            
                            <div class="school-note">
                                <p class="intro-text"><strong>水への想い</strong></p>
                                <p class="intro-text">水泳を通して、水の力強さと美しさを学んでいます。特に長距離泳法に情熱を注いでおり、将来は海洋生物学者として海の神秘を解明したいと思っています。</p>
                            </div>
                        </div>
                    </div>

                    <!-- 高森のばらプロフィールコンテンツ -->
                    <div id="nobara-profile" class="content-card">
                        <h2 class="section-title">自己紹介ノート</h2>
                        
                        <!-- 学生証画像（3段階表示） -->
                        <div class="student-id-image-container">
                            <div class="student-id-views" onclick="cycleStudentId()">
                                <div class="student-id-view active" id="nobara-view1">
                                    <img src="assets/img/nobara_2.png" alt="高森のばら 学生証">
                                </div>
                                <div class="student-id-view" id="nobara-view2">
                                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-family: 'Klee One', cursive; text-align: center;">
                                        <div>
                                            <h3 style="margin: 10px 0; font-size: 1.2rem;">クラブ活動記録</h3>
                                            <p style="margin: 5px 0; font-size: 0.9rem;">園芸部 - 部長</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">美化委員会 - 委員</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">学業成績: 優秀</p>
                                            <p style="margin: 8px 0; font-size: 0.7rem; opacity: 0.8;">表彰歴: 園芸コンクール金賞</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="student-id-view" id="nobara-view3">
                                    <div style="background: linear-gradient(135deg, #2c1810 0%, #8B0000 100%); width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #ff9999; font-family: 'Klee One', cursive; text-align: center;">
                                        <div>
                                            <h3 style="margin: 10px 0; font-size: 1.2rem; color: #ff6b6b;">隠された一面</h3>
                                            <p style="margin: 5px 0; font-size: 0.9rem;">"花に宿る力を知る者..."</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">薔薇には棘があることを</p>
                                            <p style="margin: 5px 0; font-size: 0.8rem;">忘れてはならない</p>
                                            <p style="margin: 8px 0; font-size: 0.7rem; color: #ff6b6b; opacity: 0.9;">"美しさの裏に潜む真実..."</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="margin-top: 15px; font-size: 0.9rem; color: var(--nobara-dark); text-align: center; font-weight: 600; text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.8);">
                                <span>クリックで情報を切り替え</span> - <span id="nobaraClickCount">1</span>/3
                            </div>
                        </div>

                        <!-- キャラクター情報 -->
                        <div class="character-info">
                            <h3>キャラクター詳細</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label">年齢</span>
                                    <span class="info-value">16歳</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">血液型</span>
                                    <span class="info-value">A型</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">身長</span>
                                    <span class="info-value">162cm</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">部活動</span>
                                    <span class="info-value">園芸部</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">委員会</span>
                                    <span class="info-value">美化委員</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">趣味</span>
                                    <span class="info-value">園芸・読書</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">得意科目</span>
                                    <span class="info-value">生物・美術</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">好きな花</span>
                                    <span class="info-value">薔薇・百合</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">将来の夢</span>
                                    <span class="info-value">園芸家</span>
                                </div>
                            </div>
                        </div>
                            
                        <div class="student-profile-section" style="margin-left: -30px;">
                            <div class="school-note">
                                <p class="intro-text">初めまして。夢見が丘女子高等学校1年A組の<strong>高森のばら</strong>です。皆さんからは「のばらちゃん」と呼ばれています。</p>
                            </div>

                            <div class="school-note">
                                <p class="intro-text"><strong>学校生活</strong></p>
                                <p class="intro-text">園芸部で部長をしており、学校の花壇や植物の管理をしています。美化委員としても活動しており、校舎の美観を保つために日々努力しています。</p>
                            </div>
                            
                            <div class="school-note">
                                <p class="intro-text"><strong>園芸への想い</strong></p>
                                <p class="intro-text">植物を育てることを通して、生命の美しさと強さを学んでいます。特に薔薇の栽培に情熱を注いでおり、将来は園芸家として多くの人に植物の魅力を伝えたいと思っています。</p>
                            </div>
                        </div>
                    </div>

                    <!-- 動画コンテンツ -->
                    <div id="videos" class="content-card">
                        <h2 class="section-title">動画</h2>
                        
                        <div class="video-grid" style="margin-left: -30px;">
                            <div class="video-card main-pv" onclick="openVideo('main-pv')">
                                <div class="video-thumbnail">
                                    <img src="assets/img/ibara.png" alt="メインPV" class="thumbnail-img">
                                    <div class="play-button">▶️</div>
                                    <div class="video-duration">3:24</div>
                                </div>
                                <div class="video-synopsis">
                                    <h4>メインPV</h4>
                                    <p>放課後クロニクルの世界観を描いたメインプロモーション映像。九条あまねと高森のばらの出会いから始まる、不思議で美しい物語の序章。夕焼けに染まる学校で繰り広げられる、二人の特別な時間を描く。</p>
                                </div>
                            </div>
                            
                            <div class="video-card" onclick="openVideo('character-intro')">
                                <div class="video-thumbnail">
                                    <img src="assets/img/amane.png" alt="キャラクター紹介" class="thumbnail-img">
                                    <div class="play-button">▶️</div>
                                    <div class="video-duration">2:15</div>
                                </div>
                                <div class="video-synopsis">
                                    <h4>キャラクター紹介</h4>
                                    <p>九条あまねの日常と内面を深く掘り下げた紹介映像。水泳部での活動、図書委員としての責任感、そして海洋生物学者への夢。普通の女子高生に見えて、実は深い想いを秘めた彼女の魅力を余すことなく紹介。</p>
                                </div>
                            </div>
                            
                            <div class="video-card" onclick="openVideo('music-video')">
                                <div class="video-thumbnail">
                                    <img src="assets/img/8648248cc9168e7d.png" alt="楽曲MV" class="thumbnail-img">
                                    <div class="play-button">▶️</div>
                                    <div class="video-duration">4:02</div>
                                </div>
                                <div class="video-synopsis">
                                    <h4>楽曲MV「夕暮れの約束」</h4>
                                    <p>放課後クロニクルのテーマソング「夕暮れの約束」のミュージックビデオ。あまねとのばらの友情を歌った感動的な楽曲に、美しいアニメーション映像を組み合わせた珠玉の作品。涙なしには見られない名作。</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="playlist-section">
                            <h3>再生リスト</h3>
                            <div class="playlist-buttons">
                                <button class="playlist-btn" onclick="openPlaylist('story')">ストーリー編</button>
                                <button class="playlist-btn" onclick="openPlaylist('music')">音楽編</button>
                                <button class="playlist-btn" onclick="openPlaylist('behind')">舞台裏</button>
                            </div>
                        </div>

                        <!-- 追加コンテンツでノート背景の高さを確保 -->
                        <div class="video-additional-content" style="margin-left: -30px;">
                            <div class="school-note">
                                <p class="intro-text">放課後クロニクルの映像作品は、青春の美しさと儚さを表現することを目指して制作されています。各楽曲もキャラクターの心情を丁寧に表現した楽曲ばかりです。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>
</div>

<!-- スクロールインジケーター -->
<div class="scroll-indicator">
    <div class="scroll-progress" id="scrollProgress"></div>
</div>

<script>
    let currentView = 1;
    let nobaraCurrentView = 1;

    function switchToCharacter(characterId, clickedElement) {
        // キービジュアルのモード切り替え
        const body = document.body;
        body.classList.remove('amane-mode', 'nobara-mode', 'videos-mode');
        
        if (characterId === 'amane') {
            body.classList.add('amane-mode');
            // あまねのプロフィールを表示
            switchContent('profile', clickedElement);
        } else if (characterId === 'nobara') {
            body.classList.add('nobara-mode');
            // のばらの専用プロフィールを表示
            switchContent('nobara-profile', clickedElement);
        } else if (characterId === 'videos') {
            body.classList.add('videos-mode');
            // 動画コンテンツを表示
            switchContent('videos', clickedElement);
        }
    }

    function switchContent(contentId, clickedElement) {
        // 現在のアクティブコンテンツをフェードアウト
        const contents = document.querySelectorAll('.content-card');
        
        contents.forEach(content => {
            content.classList.remove('active');
        });

        // すべてのスティッキータブの状態をリセット
        const allTabs = document.querySelectorAll('.sticky-tab');
        allTabs.forEach(tab => {
            const tabText = tab.textContent.trim();
            tab.classList.remove('active'); // アクティブクラスを削除
            if (tabText === '九条あまね') {
                tab.style.background = 'var(--amane-color)';
                tab.style.color = 'var(--amane-dark)';
                tab.style.transform = 'translateX(0)';
                tab.style.boxShadow = '-2px 2px 8px rgba(0, 0, 0, 0.2)';
            } else if (tabText === '高森のばら') {
                tab.style.background = 'var(--nobara-soft)';
                tab.style.color = 'var(--nobara-dark)';
                tab.style.transform = 'translateX(0)';
                tab.style.boxShadow = '-2px 2px 8px rgba(0, 0, 0, 0.2)';
            } else if (tabText === '動画') {
                tab.style.background = 'var(--videos-orange)';
                tab.style.color = 'var(--videos-orange-dark)';
                tab.style.transform = 'translateX(0)';
                tab.style.boxShadow = '-2px 2px 8px rgba(0, 0, 0, 0.2)';
            }
        });

        // クリックされたタブのスタイルを更新
        if (clickedElement) {
            const tabText = clickedElement.textContent.trim();
            clickedElement.classList.add('active'); // アクティブクラスを追加
            if (tabText === '九条あまね') {
                clickedElement.style.background = 'var(--amane-dark)';
            } else if (tabText === '高森のばら') {
                clickedElement.style.background = 'var(--nobara-dark)';
            } else if (tabText === '動画') {
                clickedElement.style.background = 'var(--videos-orange-dark)';
            }
            clickedElement.style.color = 'white';
            clickedElement.style.transform = 'translateX(-5px)';
            clickedElement.style.boxShadow = '-4px 4px 12px rgba(0, 0, 0, 0.3)';
            
            // クリック時のパルスエフェクト
            clickedElement.style.animation = 'pulse 0.3s ease-out';
            setTimeout(() => {
                clickedElement.style.animation = '';
            }, 300);
        }

        // 少し遅延してから新しいコンテンツをフェードイン
        setTimeout(() => {
            const targetElement = document.getElementById(contentId);
            if (targetElement) {
                targetElement.classList.add('active');
            }
        }, 250);
    }

    function cycleStudentId() {
        // 現在表示されているコンテンツを確認
        const profileActive = document.getElementById('profile').classList.contains('active');
        const nobaraProfileActive = document.getElementById('nobara-profile').classList.contains('active');
        
        if (profileActive) {
            // あまねのプロフィールの場合
            document.getElementById(`view${currentView}`).classList.remove('active');
            currentView = currentView >= 3 ? 1 : currentView + 1;
            document.getElementById(`view${currentView}`).classList.add('active');
            document.getElementById('clickCount').textContent = currentView;
        } else if (nobaraProfileActive) {
            // のばらのプロフィールの場合
            document.getElementById(`nobara-view${nobaraCurrentView}`).classList.remove('active');
            nobaraCurrentView = nobaraCurrentView >= 3 ? 1 : nobaraCurrentView + 1;
            document.getElementById(`nobara-view${nobaraCurrentView}`).classList.add('active');
            document.getElementById('nobaraClickCount').textContent = nobaraCurrentView;
        }
    }

    function openYouTube() {
            window.open('https://www.youtube.com/@afterschoolchronicle', '_blank');
    }

    function openTwitter() {
            window.open('https://x.com/afterschool_chr', '_blank');
    }

    function openVideo(videoId) {
        alert(`動画「${videoId}」を再生します。\n（実際のサイトでは動画プレーヤーが開きます）`);
    }

    function openPlaylist(playlistType) {
        alert(`「${playlistType}」プレイリストを開きます。\n（実際のサイトでは専用ページに遷移します）`);
    }

    function goToCharacterPage(characterId) {
        // トグルスイッチの状態を更新
        const characterSelector = document.querySelector('.character-selector');
        const selectorItems = document.querySelectorAll('.selector-item');
        
        // 全てのアクティブ状態をリセット
        selectorItems.forEach(item => item.classList.remove('active'));
        characterSelector.classList.remove('nobara-active');
        
        if (characterId === 'amane') {
            document.querySelector('[data-character="amane"]').classList.add('active');
            // あまねが選択された状態（デフォルト位置）
        } else if (characterId === 'nobara') {
            document.querySelector('[data-character="nobara"]').classList.add('active');
            characterSelector.classList.add('nobara-active');
        }
        
        // 実際のページ遷移（必要に応じて）
        // if (characterId === 'amane') {
        //     window.location.href = 'character_amane.html';
        // } else if (characterId === 'nobara') {
        //     window.location.href = 'character_nobara.html';
        // }
    }

    // スクロール進行状況の更新
    function updateScrollProgress() {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollProgress = Math.max(0, Math.min(100, (scrollTop / scrollHeight) * 100));
        
        const progressElement = document.getElementById('scrollProgress');
        
        if (progressElement) {
            // 進行バーの高さを設定（上から下に伸びる）
            progressElement.style.height = scrollProgress + '%';
        }
    }

    // スクロールイベントリスナー
    window.addEventListener('scroll', updateScrollProgress);
    window.addEventListener('resize', updateScrollProgress);

    window.addEventListener('load', () => {
        // 初期状態で九条あまねタブをアクティブに設定
        const allTabs = document.querySelectorAll('.sticky-tab');
        allTabs.forEach(tab => {
            if (tab.textContent.trim() === '九条あまね') {
                tab.classList.add('active'); // アクティブクラスを追加
                tab.style.background = 'var(--amane-dark)';
                tab.style.color = 'white';
                tab.style.transform = 'translateX(-5px)';
                tab.style.boxShadow = '-4px 4px 12px rgba(0, 0, 0, 0.3)';
            }
        });

        // 初期状態で九条あまねモードを設定
        document.body.classList.add('amane-mode');
        
        // 初期状態で九条あまねのプロフィールを表示
        const profileElement = document.getElementById('profile');
        if (profileElement) {
            profileElement.classList.add('active');
        }
        
        // 初期スクロール進行状況を設定
        updateScrollProgress();
    });
</script>
</body>
</html> 