<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ÊîæË™≤Âæå„ÇØ„É≠„Éã„ÇØ„É´ ‚Äï Ë®∫Êñ≠„Ç≤„Éº„É†</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
      margin-bottom: 30px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
      border-radius: 4px;
      transition: width 0.5s ease;
      width: 0%;
    }
    
    .question-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      margin-bottom: 20px;
    }
    
    .question-title {
      font-size: 1.2rem;
      color: #666;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .question-text {
      font-size: 1.5rem;
      color: #333;
      margin-bottom: 30px;
      text-align: center;
      font-weight: 600;
    }
    
    .answer-options {
      display: grid;
      gap: 15px;
    }
    
    .answer-option {
      padding: 20px;
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1.1rem;
      text-align: center;
    }
    
    .answer-option:hover {
      background: #f8f9fa;
      border-color: #4ecdc4;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(78, 205, 196, 0.3);
    }
    
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 30px;
    }
    
    .back-btn {
      background: #6c757d;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }
    
    .back-btn:hover {
      background: #5a6268;
    }
    
    .back-btn:disabled {
      background: #e0e0e0;
      color: #999;
      cursor: not-allowed;
    }
    
    .result-container {
      display: none;
    }
    
    .result-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      text-align: center;
    }
    
    .result-title {
      font-size: 2rem;
      color: #4ecdc4;
      margin-bottom: 20px;
      font-weight: 700;
    }
    
    .result-details {
      background: #f8f9fa;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }
    
    .result-item {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
      font-size: 1.1rem;
    }
    
    .result-label {
      font-weight: 600;
      color: #666;
    }
    
    .result-value {
      font-weight: 700;
      color: #333;
    }
    
    .episode-section {
      margin: 30px 0;
      padding: 20px;
      background: #fff3cd;
      border-radius: 12px;
      border-left: 5px solid #ffc107;
    }
    
    .episode-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #856404;
      margin-bottom: 10px;
    }
    
    .episode-text {
      color: #856404;
      font-style: italic;
    }
    
    .buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 30px;
    }
    
    .btn {
      padding: 15px 30px;
      border: none;
      border-radius: 8px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, #4ecdc4, #44a08d);
      color: white;
    }
    
    .btn-secondary {
      background: linear-gradient(135deg, #ff6b6b, #ee5a24);
      color: white;
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .question-card {
        padding: 20px;
      }
      
      .question-text {
        font-size: 1.2rem;
      }
      
      .answer-option {
        padding: 15px;
        font-size: 1rem;
      }
      
      .buttons {
        flex-direction: column;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- ÈÄ≤Êçó„Éê„Éº -->
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>

    <!-- Ë≥™ÂïèË°®Á§∫„Ç®„É™„Ç¢ -->
    <div id="questionContainer">
      <!-- Ë≥™Âïè„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Çã -->
    </div>

    <!-- ÁµêÊûúË°®Á§∫„Ç®„É™„Ç¢ -->
    <div class="result-container" id="resultContainer">
      <div class="result-card">
        <div class="result-title">üéì Ë®∫Êñ≠ÁµêÊûúÁô∫Ë°®ÔºÅ</div>
        <div style="font-size: 1.2rem; color: #666; margin-bottom: 20px;">„ÅÇ„Å™„Åü„ÅÆÂ≠¶Ê†°ÁîüÊ¥ª„ÅØ...</div>
        
        <div id="previewMsg" style="font-size: 1.3rem; color: #4ecdc4; margin: 20px 0; font-weight: 600;">
          <!-- „Éó„É¨„Éì„É•„Éº„É°„ÉÉ„Çª„Éº„Ç∏ -->
        </div>

        <div class="result-details">
          <div class="result-item">
            <span class="result-label">üìö Â≠¶Áßë/„Ç≥„Éº„Çπ</span>
            <span class="result-value" id="resultCourse">-</span>
          </div>
          <div class="result-item">
            <span class="result-label">üé≠ ÈÉ®Ê¥ªÂãï</span>
            <span class="result-value" id="resultClub">-</span>
          </div>
        </div>

        <div class="episode-section">
          <div class="episode-title">üçÉ „Å≤„Å®„Åè„Å°„Ç®„Éî„ÇΩ„Éº„Éâ</div>
          <div class="episode-text" id="episodeMsg">
            <!-- „Ç®„Éî„ÇΩ„Éº„Éâ„É°„ÉÉ„Çª„Éº„Ç∏ -->
          </div>
        </div>

        <div class="buttons">
          <button class="btn btn-primary" id="toGeneratorBtn">
            <span>üìã</span>
            Â≠¶ÁîüË®º„Çí‰ΩúÊàê„Åô„Çã
          </button>
          <button class="btn btn-secondary" id="restartBtn">
            <span>üîÑ</span>
            Ë®∫Êñ≠„Çí„ÇÑ„ÇäÁõ¥„Åô
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    console.log('üöÄ „Ç∑„É≥„Éó„É´Ë®∫Êñ≠„Ç≤„Éº„É†ÈñãÂßã');

    // Ë≥™Âïè„Éá„Éº„Çø
    const questions = [
      {
        q: 'Êúù„ÅÆÊîØÂ∫¶„ÄÅ„Å©„Çì„Å™ÊÑü„ÅòÔºü',
        choices: [
          { text:'„Åé„Çä„Åé„Çä„Åæ„ÅßÂØù„Å¶„Çã', scores:{ course:'', club:'ËªΩÈü≥ÈÉ®', vibe:4 } },
          { text:'ÊîØÂ∫¶„ÅØÂâçÊó•„Å´ÂÆåÁíß', scores:{ course:'ÁâπÈÄ≤„Ç≥„Éº„Çπ', club:'', vibe:1 } },
          { text:'„Å™„Çì„Å®„Å™„Åè„ÅßOK', scores:{ course:'', club:'ÁæéË°ì', vibe:3 } },
          { text:'ÊØéÊúù„Éâ„Çø„Éê„Çø„Åó„Å¶„Çã', scores:{ course:'', club:'„ÉÄ„É≥„ÇπÈÉ®', vibe:5 } }
        ]
      },
      {
        q: 'ÊéàÊ•≠‰∏≠„Å´„Çà„Åè„ÅÇ„Çã„Åì„Å®„ÅØÔºü',
        choices: [
          { text:'„Å§„ÅÑËêΩÊõ∏„Åç„Åó„Å¶„Åó„Åæ„ÅÜ', scores:{ course:'ÁæéË°ì„Ç≥„Éº„Çπ', club:'', vibe:3 } },
          { text:'„Éé„Éº„Éà„Çí„Åç„Çå„ÅÑ„Å´„Åæ„Å®„ÇÅ„Çã', scores:{ course:'ÁâπÈÄ≤„Ç≥„Éº„Çπ', club:'', vibe:1 } },
          { text:'Â§¢„ÅÆ‰∏≠', scores:{ course:'', club:'Âõ≥Êõ∏', vibe:2 } },
          { text:'ÂèãÈÅî„Å´„Åì„Å£„Åù„Çä„É°„É¢Ê∏°„Åô', scores:{ course:'', club:'ÊñáËä∏', vibe:4 } }
        ]
      },
      {
        q: '„ÅäÊòº‰ºë„Åø„ÅÆÈÅé„Åî„ÅóÊñπ„ÅØÔºü',
        choices: [
          { text:'ÂèãÈÅî„Å®„ÉØ„Ç§„ÉØ„Ç§„ÅîÈ£Ø', scores:{ course:'', club:'ÊºîÂäáÈÉ®', vibe:4 } },
          { text:'Âõ≥Êõ∏ÂÆ§„Åß„ÅÆ„Çì„Å≥„ÇäË™≠Êõ∏', scores:{ course:'', club:'Âõ≥Êõ∏', vibe:2 } },
          { text:'Ê†°Â∫≠„ÅßÈÅä„Å∂', scores:{ course:'', club:'Èô∏‰∏äÈÉ®', vibe:3 } },
          { text:'Ë≥ºË≤∑„ÉÄ„ÉÉ„Ç∑„É•', scores:{ course:'', club:'„Éê„Çπ„Ç±„ÉÉ„Éà„Éú„Éº„É´ÈÉ®', vibe:5 } }
        ]
      },
      {
        q: '‰ΩìËÇ≤„ÅÆÊôÇÈñì„Å®„ÅÑ„Åà„Å∞Ôºü',
        choices: [
          { text:'ÂÖ®Âäõ„ÅßÂãù„Å°„Å´„ÅÑ„ÅèÔºÅ', scores:{ course:'', club:'„ÉÜ„Éã„ÇπÈÉ®', vibe:2 } },
          { text:'„Åæ„ÅÇ„Åæ„ÅÇÊ•Ω„Åó„ÇÄÊ¥æ', scores:{ course:'', club:'„Éê„É¨„Éº„Éú„Éº„É´ÈÉ®', vibe:3 } },
          { text:'Ë¶ãÂ≠¶„Åó„Åü„ÅÑ‚Ä¶‚Ä¶', scores:{ course:'', club:'ÊñáËä∏', vibe:1 } },
          { text:'‰ΩìËÇ≤Á•≠„Å†„ÅëÊú¨Ê∞óÂá∫„Åô', scores:{ course:'', club:'„ÉÄ„É≥„ÇπÈÉ®', vibe:4 } }
        ]
      },
      {
        q: 'ÊîæË™≤Âæå„ÅÆ‰∫àÂÆö„ÅØÔºü',
        choices: [
          { text:'ÈÉ®Ê¥ª„Å´ÂÖ®ÂäõÔºÅ', scores:{ course:'', club:'ÂêπÂ•èÊ•ΩÈÉ®', vibe:2 } },
          { text:'ÂèãÈÅî„Å®ÂØÑ„ÇäÈÅì', scores:{ course:'', club:'ËªΩÈü≥ÈÉ®', vibe:4 } },
          { text:'Âç≥Â∏∞ÂÆÖ', scores:{ course:'', club:'Â∏∞ÂÆÖ', vibe:3 } },
          { text:'Â≠¶Ê†°„Å´ÊÆã„Å£„Å¶Ëá™‰∏ªÁ∑¥„ÇÑËá™Áøí', scores:{ course:'ÁâπÈÄ≤„Ç≥„Éº„Çπ', club:'', vibe:1 } }
        ]
      },
      {
        q: '„ÉÜ„Çπ„ÉàÊúüÈñì‰∏≠„ÄÅ„ÅÇ„Å™„Åü„ÅØ‚Ä¶Ôºü',
        choices: [
          { text:'Ë®àÁîªÁöÑ„Å´„Ç≥„ÉÑ„Ç≥„ÉÑ', scores:{ course:'ÁâπÈÄ≤„Ç≥„Éº„Çπ', club:'', vibe:1 } },
          { text:'‰∏ÄÂ§úÊº¨„Åë', scores:{ course:'', club:'ËªΩÈü≥ÈÉ®', vibe:5 } },
          { text:'ÂãâÂº∑‰ºö„ÇíÈñãÂÇ¨', scores:{ course:'', club:'ÊºîÂäáÈÉ®', vibe:3 } },
          { text:'„Éé„É™„Å®Âã¢„ÅÑ', scores:{ course:'', club:'„ÉÄ„É≥„ÇπÈÉ®', vibe:4 } }
        ]
      },
      {
        q: 'ÊñáÂåñÁ•≠„Åß„ÇÑ„Å£„Å¶„Åø„Åü„ÅÑ„Åì„Å®„ÅØÔºü',
        choices: [
          { text:'ÊºîÂäá„ÇÑ„ÉÄ„É≥„Çπ„ÅÆ„Çπ„ÉÜ„Éº„Ç∏', scores:{ course:'', club:'ÊºîÂäáÈÉ®', vibe:3 } },
          { text:'Ê®°Êì¨Â∫ó„ÇÑÂ±ãÂè∞ÈÅãÂñ∂', scores:{ course:'', club:'„Éê„Çπ„Ç±„ÉÉ„Éà„Éú„Éº„É´ÈÉ®', vibe:4 } },
          { text:'Â±ïÁ§∫„ÇÑÂà∂‰ΩúÁ≥ª„ÅÆÂá∫„ÅóÁâ©', scores:{ course:'ÁæéË°ì„Ç≥„Éº„Çπ', club:'', vibe:2 } },
          { text:'„ÅäÂåñ„ÅëÂ±ãÊï∑„ÇÑËÑ±Âá∫„Ç≤„Éº„É†', scores:{ course:'', club:'„Éõ„É©„ÉºÂ∏ÉÊïôÈÉ®', vibe:5 } }
        ]
      },
      {
        q: 'Âøò„ÇåÁâ©„Åó„ÅüÊôÇ„Å©„ÅÜ„Åô„ÇãÔºü',
        choices: [
          { text:'Ê≠£Áõ¥„Å´Ë®Ä„Å£„Å¶Ë¨ù„Çã', scores:{ course:'ÁâπÈÄ≤„Ç≥„Éº„Çπ', club:'', vibe:1 } },
          { text:'Ë™∞„Åã„Å´ÂÄü„Çä„Çã', scores:{ course:'', club:'ÊºîÂäáÈÉ®', vibe:3 } },
          { text:'„Åù„ÇÇ„Åù„ÇÇÊ∞ó„Å•„Åã„Å™„ÅÑ', scores:{ course:'', club:'ÁæéË°ì', vibe:4 } },
          { text:'„Å™„Çì„Å®„ÅãË™§È≠îÂåñ„Åô', scores:{ course:'', club:'ËªΩÈü≥ÈÉ®', vibe:5 } }
        ]
      },
      {
        q: '„ÉÜ„Çπ„ÉàËøîÂç¥„ÅÆÊó•„ÅÆÊ∞óÊåÅ„Å°„ÅØÔºü',
        choices: [
          { text:'Ëá™‰ø°„ÅÇ„Çä', scores:{ course:'ÁâπÈÄ≤„Ç≥„Éº„Çπ', club:'', vibe:2 } },
          { text:'„Å®„Å´„Åã„ÅèÁ•à„Çã', scores:{ course:'', club:'ÊñáËä∏', vibe:3 } },
          { text:'Âë®„Çä„ÅÆÁÇπÊï∞„ÅåÊ∞ó„Å´„Å™„Çã', scores:{ course:'', club:'ÊºîÂäáÈÉ®', vibe:4 } },
          { text:'„Åì„Çå‰Ωï„ÅÆÊïôÁßë„Å†„Å£„ÅëÔºü', scores:{ course:'', club:'ËªΩÈü≥ÈÉ®', vibe:5 } }
        ]
      },
      {
        q: 'Â≠¶Ê†°Ë°å‰∫ã„Åß‰∏ÄÁï™ÁáÉ„Åà„Çã„ÅÆ„ÅØÔºü',
        choices: [
          { text:'‰ΩìËÇ≤Á•≠', scores:{ course:'', club:'Èô∏‰∏äÈÉ®', vibe:3 } },
          { text:'ÊñáÂåñÁ•≠', scores:{ course:'', club:'ÊºîÂäáÈÉ®', vibe:4 } },
          { text:'ÂêàÂî±„Ç≥„É≥„ÇØ„Éº„É´', scores:{ course:'Èü≥Ê•Ω„Ç≥„Éº„Çπ', club:'', vibe:2 } },
          { text:'‰øÆÂ≠¶ÊóÖË°å', scores:{ course:'Ëã±Ë™û„Ç≥„Éº„Çπ', club:'', vibe:5 } }
        ]
      }
    ];

    // „Ç≤„Éº„É†Áä∂ÊÖã
    let currentQuestion = 0;
    let scores = {
      course: { 'ÁâπÈÄ≤„Ç≥„Éº„Çπ': 0, 'Ëã±Ë™û„Ç≥„Éº„Çπ': 0, 'Èü≥Ê•Ω„Ç≥„Éº„Çπ': 0, 'ÁæéË°ì„Ç≥„Éº„Çπ': 0 },
      club: {},
      vibe: 0
    };

    // Ë≥™ÂïèË°®Á§∫
    function showQuestion(index) {
      if (index >= questions.length) {
        showResult();
        return;
      }

      const question = questions[index];
      const container = document.getElementById('questionContainer');
      
      container.innerHTML = `
        <div class="question-card">
          <div class="question-title">Ë≥™Âïè ${index + 1} / ${questions.length}</div>
          <div class="question-text">${question.q}</div>
          <div class="answer-options">
            ${question.choices.map((choice, i) => 
              `<div class="answer-option" onclick="selectAnswer(${i})">${choice.text}</div>`
            ).join('')}
          </div>
          <div class="controls">
            ${index > 0 ? 
              `<button class="back-btn" onclick="goBack()">‚Üê Ââç„ÅÆË≥™Âïè</button>` : 
              '<div></div>'
            }
            <span style="color: #666;">${index + 1} / ${questions.length}</span>
          </div>
        </div>
      `;

      // ÈÄ≤Êçó„Éê„ÉºÊõ¥Êñ∞
      const progress = ((index + 1) / questions.length) * 100;
      document.getElementById('progressFill').style.width = progress + '%';
    }

    // ÂõûÁ≠îÂá¶ÁêÜ
    function selectAnswer(answerIndex) {
      console.log('ÂõûÁ≠îÈÅ∏Êäû:', answerIndex);
      
      const question = questions[currentQuestion];
      const choice = question.choices[answerIndex];
      
      // „Çπ„Ç≥„Ç¢Ë®àÁÆó
      if (choice.scores.course) {
        scores.course[choice.scores.course] += 1;
      }
      if (choice.scores.club) {
        scores.club[choice.scores.club] = (scores.club[choice.scores.club] || 0) + 1;
      }
      scores.vibe += choice.scores.vibe;
      
      currentQuestion++;
      setTimeout(() => showQuestion(currentQuestion), 300);
    }

    // Êàª„Çã
    function goBack() {
      if (currentQuestion > 0) {
        currentQuestion--;
        showQuestion(currentQuestion);
      }
    }

    // ÁµêÊûúË®àÁÆó
    function calculateResult() {
      // „Ç≥„Éº„ÇπÊ±∫ÂÆö
      const courseEntries = Object.entries(scores.course);
      const topCourse = courseEntries.reduce((a, b) => a[1] > b[1] ? a : b);
      const courseName = topCourse[0];
      
      let department, course, displayCourse;
      switch(courseName) {
        case 'ÁâπÈÄ≤„Ç≥„Éº„Çπ':
          department = 'ÊôÆÈÄöÁßë';
          course = 'ÁâπÈÄ≤';
          displayCourse = 'ÊôÆÈÄöÁßëÔºàÁâπÈÄ≤„Ç≥„Éº„ÇπÔºâ';
          break;
        case 'Ëã±Ë™û„Ç≥„Éº„Çπ':
          department = 'ÊôÆÈÄöÁßë';
          course = 'Ëã±Ë™û';
          displayCourse = 'ÊôÆÈÄöÁßëÔºàËã±Ë™û„Ç≥„Éº„ÇπÔºâ';
          break;
        case 'Èü≥Ê•Ω„Ç≥„Éº„Çπ':
          department = 'Ëä∏Ë°ìÁßë';
          course = 'Èü≥Ê•Ω';
          displayCourse = 'Ëä∏Ë°ìÁßëÔºàÈü≥Ê•Ω„Ç≥„Éº„ÇπÔºâ';
          break;
        case 'ÁæéË°ì„Ç≥„Éº„Çπ':
          department = 'Ëä∏Ë°ìÁßë';
          course = 'ÁæéË°ì';
          displayCourse = 'Ëä∏Ë°ìÁßëÔºàÁæéË°ì„Ç≥„Éº„ÇπÔºâ';
          break;
        default:
          department = 'ÊôÆÈÄöÁßë';
          course = '‰∏ÄËà¨';
          displayCourse = 'ÊôÆÈÄöÁßëÔºà‰∏ÄËà¨„Ç≥„Éº„ÇπÔºâ';
      }
      
      // ÈÉ®Ê¥ªÊ±∫ÂÆö
      const clubEntries = Object.entries(scores.club);
      const club = clubEntries.length > 0 ? 
        clubEntries.reduce((a, b) => a[1] > b[1] ? a : b)[0] : 'Â∏∞ÂÆÖ';
      
      return { department, course, displayCourse, club };
    }

    // „Éó„É¨„Éì„É•„Éº„É°„ÉÉ„Çª„Éº„Ç∏
    const previewMessages = [
      "${club}„Åß„ÅÆÊ¥ªÂãï„ÅåË©±È°å„Å´ÔºÅÊ≥®ÁõÆ„ÅÆÂ≠òÂú®„Åß„Åô„ÄÇ",
      "${club}„ÅÆ„Ç®„Éº„Çπ„Å®„Åó„Å¶ÊúüÂæÖ„ÇÇÂ§ß„Åç„ÅÑ„Å®„Åã„ÄÇ",
      "Â≠¶Ê•≠„Å®${club}„Åß„ÅÆÁµåÈ®ì„ÅåË¶ã‰∫ã„Å´„Éû„ÉÉ„ÉÅ„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ",
      "${club}„ÅßÊä´Èú≤„Åó„Åü„Éë„Éï„Ç©„Éº„Éû„É≥„Çπ„ÅåÂç∞Ë±°ÁöÑ„Åß„Åó„Åü„ÄÇ",
      "${club}„ÅÆÊ¥ªÂãï„Å´Êâì„Å°Ëæº„ÇÄÂßø„ÅØ„ÄÅ„Åø„Çì„Å™„Åã„Çâ‰∏ÄÁõÆÁΩÆ„Åã„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
    ];

    const episodes = [
      "Áµ¶È£ü„ÅÆ„Çº„É™„Éº„ÇíÊØéÊó•ÂèãÈÅî„Å®„Ç∏„É£„É≥„Ç±„É≥„ÅßÂ•™„ÅÑÂêà„Å£„Å¶„ÅÑ„Çã„ÄÇ",
      "ÊïôÂÆ§„ÅÆÈöÖ„Å£„Åì„Åß„Åì„Å£„Åù„ÇäÊäò„ÇäÁ¥ô„ÇíÈáèÁî£„Åó„Å¶„ÅÑ„Çã„ÄÇ",
      "ÊéÉÈô§„ÅÆÊôÇÈñì„ÄÅ„Åª„ÅÜ„Åç„Åß„Ç®„Ç¢„ÇÆ„Çø„Éº„ÇíÂßã„ÇÅ„Åå„Å°„ÄÇ",
      "‰ΩìËÇ≤„ÅÆÊ∫ñÂÇôÈÅãÂãï„Å´ÂÖ®Âäõ„Åô„Åé„Å¶ÊØéÂõûÁ¨ë„ÅÑ„ÅåËµ∑„Åç„Çã„ÄÇ",
      "ÂÆøÈ°å„ÇíÂøò„Çå„Å¶„ÇÇ„ÄåÈ¢®„ÅÆ„Åõ„ÅÑ„Äç„Å®Ë®Ä„ÅÑË®≥„Åó„Å¶‰πó„ÇäÂàá„ÇãÂ§©Êâç„ÄÇ",
      "Êúù„ÅÆÊå®Êã∂„Åå„Åß„Åã„Åô„Åé„Å¶Èö£„ÅÆÊïôÂÆ§„Åæ„ÅßËÅû„Åì„Åà„Çã„ÄÇ",
      "ÈªíÊùø„Å´Êõ∏„ÅÑ„Åü„Ç§„É©„Çπ„Éà„ÇíÂãùÊâã„Å´\"ÈÄ£ËºâÂåñ\"„Åó„Å¶„ÅÑ„Çã„ÄÇ",
      "„Éé„Éº„Éà„ÅÆÁ´Ø„Å´ÊØéÂõûÂ§â„Å™„Ç≠„É£„É©„ÅåÁôªÂ†¥„Åó„Å¶„ÅÑ„Çã„ÄÇ",
      "Âõ≥Êõ∏ÂÆ§„ÅÆÈöÖ„Åß„Å™„Åú„ÅãÁ¥ôËäùÂ±Ö„Çí„Åó„Å¶„ÅÑ„Åü„Åì„Å®„Åå„ÅÇ„Çã„ÄÇ",
      "ÁæéË°ìÂÆ§„ÅßÁµµ„ÅÆÂÖ∑„ÅÆ„Éï„Çø„ÇíÈñã„Åë„Çã‰øÇ„ÇíÂãùÊâã„Å´„Åó„Å¶„ÅÑ„Çã„ÄÇ"
    ];

    // ÁµêÊûúË°®Á§∫
    function showResult() {
      document.getElementById('questionContainer').style.display = 'none';
      document.getElementById('resultContainer').style.display = 'block';
      
      const result = calculateResult();
      
      document.getElementById('resultCourse').textContent = result.displayCourse;
      
      const clubDisplayName = result.club.endsWith('ÈÉ®') ? result.club : result.club + 'ÈÉ®';
      document.getElementById('resultClub').textContent = clubDisplayName;
      
      // „Éó„É¨„Éì„É•„Éº„É°„ÉÉ„Çª„Éº„Ç∏
      const msgTemplate = previewMessages[Math.floor(Math.random() * previewMessages.length)];
      const previewMessage = msgTemplate.replace('${club}', clubDisplayName);
      document.getElementById('previewMsg').textContent = previewMessage;
      
      // „Ç®„Éî„ÇΩ„Éº„Éâ
      const episode = episodes[Math.floor(Math.random() * episodes.length)];
      document.getElementById('episodeMsg').textContent = episode;
      
      // „Éú„Çø„É≥Ë®≠ÂÆö
      document.getElementById('toGeneratorBtn').onclick = () => {
        const clubMapping = {
          'Èô∏‰∏äÈÉ®': 'Èô∏‰∏äÈÉ®', '„ÉÜ„Éã„ÇπÈÉ®': '„ÉÜ„Éã„ÇπÈÉ®', '„Éê„Çπ„Ç±„ÉÉ„Éà„Éú„Éº„É´ÈÉ®': '„Éê„Çπ„Ç±„ÉÉ„Éà„Éú„Éº„É´ÈÉ®',
          '„Éê„É¨„Éº„Éú„Éº„É´ÈÉ®': '„Éê„É¨„Éº„Éú„Éº„É´ÈÉ®', '„Éê„Éâ„Éü„É≥„Éà„É≥ÈÉ®': '„Éê„Éâ„Éü„É≥„Éà„É≥ÈÉ®', 'Ê∞¥Ê≥≥ÈÉ®': 'Ê∞¥Ê≥≥ÈÉ®',
          '„ÉÄ„É≥„ÇπÈÉ®': '„ÉÄ„É≥„ÇπÈÉ®', 'Â£∞Ê•ΩÈÉ®': 'Â£∞Ê•ΩÈÉ®', 'ÂêπÂ•èÊ•ΩÈÉ®': 'ÂêπÂ•èÊ•ΩÈÉ®', 'ÁµµÁîªÈÉ®': 'ÁµµÁîªÈÉ®',
          'ÂΩ´ÂàªÈÉ®': 'ÂΩ´ÂàªÈÉ®', 'ÊîæÈÄÅÈÉ®': 'ÊîæÈÄÅÈÉ®', 'Ëã±Ë™ûÁ†îÁ©∂ÈÉ®': 'Ëã±Ë™ûÁ†îÁ©∂ÈÉ®', 'ÊºîÂäáÈÉ®': 'ÊºîÂäáÈÉ®',
          'Ëå∂ÈÅìÈÉ®': 'Ëå∂ÈÅìÈÉ®', 'ËèØÈÅìÈÉ®': 'ËèØÈÅìÈÉ®', '„Éõ„É©„ÉºÂ∏ÉÊïôÈÉ®': '„Éõ„É©„ÉºÂ∏ÉÊïôÈÉ®', 'ËªΩÈü≥ÈÉ®': 'ËªΩÈü≥ÈÉ®',
          'Â∏∞ÂÆÖ': 'ÊñáËä∏', '„Å™„Åó': 'ÊñáËä∏'
        };
        
        const mappedClub = clubMapping[result.club] || 'ÊñáËä∏';
        
        const url = new URL('generator.html', window.location.href);
        url.searchParams.set('department', result.department);
        url.searchParams.set('course', result.course);
        url.searchParams.set('club', mappedClub);
        url.searchParams.set('previewMessage', previewMessage);
        url.searchParams.set('episodeMessage', episode);
        window.location.href = url.toString();
      };
      
      document.getElementById('restartBtn').onclick = () => {
        window.location.reload();
      };
    }

    // ÈñãÂßã
    document.addEventListener('DOMContentLoaded', () => {
      console.log('Ë®∫Êñ≠„Ç≤„Éº„É†ÂàùÊúüÂåñÂÆå‰∫Ü');
      showQuestion(0);
    });
  </script>
</body>
</html> 